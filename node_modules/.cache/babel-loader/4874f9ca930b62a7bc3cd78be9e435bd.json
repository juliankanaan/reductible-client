{"ast":null,"code":"\"use strict\";\n\n//require('dotenv').config();\nvar fetch = require('isomorphic-fetch');\n\nvar EventEmitter = require(\"events\");\n\nvar emitter = new EventEmitter();\nmodule.exports = emitter; // create events\n// we fetched a file body successfully\n\nemitter.on('fetchedBody', function (body) {\n  console.log(\"got body: \" + body);\n  parseData(body);\n}); // successfully got a clean row\n// successfully got an array of [hospital, procedure, cost]\n\nemitter.on('gotRecord', function (record) {\n  console.log('got record: ' + record);\n  postToRestApi(record);\n});\n\nfunction callApi(url) {\n  var data = url;\n  emitter.emit('fetchedBody', data);\n  /*\n  fetch(url).then(data => {\n    //console.log(data);\n    // emit event: successfully fetched file body\n    emitter.emit('fetchedBody', data);\n     parseData(data);\n    return true;\n  })\n  .catch(err => {\n    console.log(err);\n    //const bigData = null; // empty\n    return false;\n  });\n  */\n}\n\nfunction parseData(lines) {\n  var record = lines; // foreach line..\n\n  emitter.emit('gotRecord', record);\n}\n\nfunction postToRestApi(arr) {\n  console.log('..sending data' + arr);\n}","map":{"version":3,"sources":["/Users/juliankanaan/Documents/GitHub/clientReactInterfact/helpers/helper.js"],"names":["fetch","require","EventEmitter","emitter","module","exports","on","body","console","log","parseData","record","postToRestApi","callApi","url","data","emit","lines","arr"],"mappings":";;AAAA;AACA,IAAMA,KAAK,GAAGC,OAAO,CAAC,kBAAD,CAArB;;AACA,IAAMC,YAAY,GAAGD,OAAO,CAAC,QAAD,CAA5B;;AAEA,IAAME,OAAO,GAAG,IAAID,YAAJ,EAAhB;AAEAE,MAAM,CAACC,OAAP,GAAiBF,OAAjB,C,CAEA;AACA;;AACAA,OAAO,CAACG,EAAR,CAAW,aAAX,EAA0B,UAACC,IAAD,EAAU;AAClCC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAcF,IAA1B;AACAG,EAAAA,SAAS,CAACH,IAAD,CAAT;AACD,CAHD,E,CAIA;AAEA;;AACAJ,OAAO,CAACG,EAAR,CAAW,WAAX,EAAwB,UAACK,MAAD,EAAY;AAClCH,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBE,MAA7B;AACAC,EAAAA,aAAa,CAACD,MAAD,CAAb;AACD,CAHD;;AAMA,SAASE,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,MAAIC,IAAI,GAAGD,GAAX;AACAX,EAAAA,OAAO,CAACa,IAAR,CAAa,aAAb,EAA4BD,IAA5B;AACF;;;;;;;;;;;;;;AAeD;;AAED,SAASL,SAAT,CAAmBO,KAAnB,EAA0B;AACxB,MAAIN,MAAM,GAAGM,KAAb,CADwB,CAExB;;AACAd,EAAAA,OAAO,CAACa,IAAR,CAAa,WAAb,EAA0BL,MAA1B;AACD;;AACD,SAASC,aAAT,CAAuBM,GAAvB,EAA2B;AACzBV,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBS,GAA/B;AACD","sourcesContent":["//require('dotenv').config();\nconst fetch = require('isomorphic-fetch');\nconst EventEmitter = require(\"events\");\n\nconst emitter = new EventEmitter();\n\nmodule.exports = emitter;\n\n// create events\n// we fetched a file body successfully\nemitter.on('fetchedBody', (body) => {\n  console.log(\"got body: \" +body);\n  parseData(body);\n});\n// successfully got a clean row\n\n// successfully got an array of [hospital, procedure, cost]\nemitter.on('gotRecord', (record) => {\n  console.log('got record: ' + record);\n  postToRestApi(record);\n})\n\n\nfunction callApi(url) {\n    var data = url;\n    emitter.emit('fetchedBody', data);\n  /*\n  fetch(url).then(data => {\n    //console.log(data);\n    // emit event: successfully fetched file body\n    emitter.emit('fetchedBody', data);\n\n    parseData(data);\n    return true;\n  })\n  .catch(err => {\n    console.log(err);\n    //const bigData = null; // empty\n    return false;\n  });\n  */\n}\n\nfunction parseData(lines) {\n  var record = lines;\n  // foreach line..\n  emitter.emit('gotRecord', record);\n}\nfunction postToRestApi(arr){\n  console.log('..sending data' + arr);\n}\n"]},"metadata":{},"sourceType":"script"}