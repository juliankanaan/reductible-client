{"version":3,"file":"static/webpack/static/development/pages/index.js.3b2c3335a5e3d69e879d.hot-update.js","sources":["webpack:///./helpers/helper.js"],"sourcesContent":["//require('dotenv').config();\nconst fetch = require('isomorphic-fetch');\n// maybe get thus from the ``\nconst restApiPath = 'https://localhost:4000/post/push';\n\n\nasync function callAsync(url, descStart, descEnd, priceColumn) {\n  const response = await fetch(url);\n  const data = await response.text();\n  return transformer(data, descStart, descEnd, priceColumn);\n}\n\nfunction transformer(data, descStart, descEnd, priceColumn) {\n  var readyVals = [];\n  // separate into lines\n  const lines = returnLines(data);\n  // JSON populate\n  for (var line of lines) {\n    var jsonReady = groupDataReturnRecord(line, priceColumn);\n    //readyVals.push(jsonReady);\n    console.log(jsonReady);\n  }\n  return readyVals;\n}\n\nfunction returnLines(data) { // works: 2:40pm\n  var lines = [];\n  for (var line of data.split('\\n')) {\n    lines.push(line.replace(/\\s+/g, ' ')); // trimmed extra spaces\n\n  }\n  return lines;\n}\n\nfunction groupDataReturnRecord(line, priceColumn) {\n  // create arr\n  var arr = line.split(\" \");\n  const record = {\n    hospital: '',\n    procedureName: '',\n    procedureCost: ''\n  }\n  const chars = [];\n  const nums = [];\n  for (var word of arr) {\n    if (word.length > 0) { // or word[ignore]\n      if (!isNaN(word)) { // Only pure numbers. 100M is not a number.\n        //console.log('number');\n        nums.push(word)\n      } else {\n        //console.log(word);\n        chars.push(word)\n      }\n    }\n  } // loop\n  record['procedureName'] = chars.join(\" \");\n  record['procedureCost'] = nums[priceColumn];\n  //return chars.join(\" \"); // \"100CM 6FR BRACHY CATHETER\"\n  return record;\n}\nasync function postToApi(data) {\n  // push a single data point to DB\n  // NOTE: maybe use bulk insert?\n  const post = await fetch(restApiPath, {\n    method: 'POST',\n    body: JSON.stringify({\n      hospital: data.hospital,\n      procedureName: data.procedureName,\n      procedureCost: data.procedureCost\n    }),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const request = await response.json();\n  console.log(request);\n}\nmodule.exports.callAsync = callAsync;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAMA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AACA;AADA;AAKA;AAAA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AAEA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AATA;AAAA;AAAA;AACA;AADA;AAUA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAoBA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAPA;AACA;AAJA;AAGA;AAHA;AAAA;AACA;AADA;AAcA;AACA;AACA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAiBA;;;;A","sourceRoot":""}